{% extends 'general/base.html' %}

{% block content %}
    <h1>Search results</h1>

    <form method="GET">
        <input type="text" name="query" placeholder="search"
                {% if query %} value="{{ query }}" {% endif %}
        />
        <input type="submit" value="SÃ¸k" />
    </form>
    {% if error %}
        Error! <br/>{{ error }}
    {% endif %}
    {% if results %}
        search took {{ duration }} ms<br/>
        {% for file, highlights in results %}
            <div style="border:1px solid black;padding:10px">
                <h4>
                    <a href="{{ file.file.url }}">{{ file.name }}</a> -
                    <a href="{% url 'comment' file.pk %}">{{ file.comments.count }} comments</a><br/>
                </h4>
                {% for highlight in highlights %}
                    {{ highlight | safe }}<br/><br/>
                {% endfor %}
            </div>
        {% endfor %}
    {% endif %}
{% endblock content %}